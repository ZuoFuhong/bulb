### 小票打印机-打印模块

#### 1.需求探讨
  1.在商户后台，商户可以自定义 小票打印机 出票的样式风格，字体大小，排版对齐。
      1）用户点击左侧面板按钮，可以控制右侧 小票预览图 对应的文字的隐藏和显示。
      2）用户点击右侧 小票预览图 对应的文本，可以设置文字的大小和排版。
      3）模板列表、修改模板、删除模板、预览模板、启用模板（启用中的模板不可删除和修改）。
      4）模板类型：结账单、可看单、预结单、消费清单、厨总单、堂口单
      
  2.在商户后台，用户可以完成打印机的配置，比如IP地址、打印机名称、打印机型号等基础信息。
  3.在商户后台，用户可以设置打印机出票口：
      1）出票口 是一组打印规则，用于打印指定的菜品；比如配置：桌位的区域、餐饮菜品的种类、特定的商品。
      2）出票口 可以配置 一品一纸、多品一纸等等。
      3）出票口列表、新增出票口、删除出票口、修改出票口。
  4.开始打印流程：
      1）前端编写适配打印机的HTML静态页面，预留占位符。
      2）查询订单数据，渲染到静态页面中。
      3）客户端发送到打印机，完成打印出票。

#### 2.开发流程
  1.根据不同的模板类型，设计小票排版的静态页面展示样式，生产标准的模块和组件存储数据库。
  2.客户端根据模板类型 请求模板所需的全部系统组件，接口 接收到模板类型，查询所对应的模块及组件，并且按照模板>模块>组件的格式，响应标准的JSON数据。
  3.客户端根据模板Id 请求自定义模板的全部组件，接口 接收到模板id后，查询模板包含的模块及组件，同样按照模板>模块>组件的格式，响应标准的JSON数据。  

#### 3.前端实施细则
  Todo:
    1.前端

#### 4.后端接口实施细则
  1.设计数据表
      模板类型表：
      模板表：
      模块表：
      组件表：
      模板类型关联表：
  
  2.管理平台接口
      1）查询 模板类型列表 queryType.json
      2）查询 模板启用状态 checkIsSwitched.json
      3）查询 某一类型模板 对应的系统组件 getSystemComponents.json
      4）查询 模板Id对应的所有模块组件 getPreviewComponents.json
      5）新增 存储模板预览图（Base64格式文本）响应OSS地址 getUploadUrl.json
      6）新增 自定义模板（模板名称不能重复），响应生成结果 save.json
      7）更新 根据模板id更新自定义模板，响应生成结果 update.json

  3.餐饮端接口
