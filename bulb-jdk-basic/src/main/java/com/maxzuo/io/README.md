## IO流

> **流的概念**

流是一组有顺序的，有起点和终点的字节集合，是对数据传输的总称或抽象。即数据在两设备间的传输称为流，流的本质是数据传输，
根据数据传输特性将流抽象为各种类，方便更直观的进行数据操作。

> **流的分类**

1.处理数据单位的不同分为：字符流和字节流。

2.数据流方向分为：输入流和输出流。

```
1）当程序需要从某个数据源读入数据的时候，就会开启一个输入流，数据源可以是文件、内存或网络等等。
2）当需要写出数据到某个数据源目的地的时候，也会开启一个输出流，这个数据源目的地和输入流相同。
```

3.功能的不同可分为：节点流和处理流

```
1）节点流从一个特定的数据源读写数据，即节点流是直接操作文件、网络等的流量。

2）处理流：“连接”在已存在的流（节点流或处理流）之上通过对数据的处理位程序提供更强大的读写能力。例如BufferedInputStream
和BufferedOutputStream，使用已经存在的节点来构造，提供带缓冲的读写，提高读写速率。
```

### 字符流

1.以字符（char）为基本的处理单位，主要是用于处理字符或者文本类型存储以及与网络的文本信息的交互。

2.Reader/Writer 是所有字符输入/输出流的超类（抽象类）

3.字符流和字节流之间的按照 编码 进行转换：

```
InputStreamReader类是字节流到字符流的桥梁，直接子类 FileReader
OutputStreamWriter类是字符流到字节流的桥梁，直接子类 FileWriter
```

4.字符流高效缓冲区：BufferedReader/BufferedWriter

5.便捷类

```
FileReader类是用来读取字符文件的便捷类
FileWriter类是用来写入字符文件的便捷类
```
    
6.其中：

```
a.字符输出流，防止缓冲区溢出，需要合理使用flush()清空缓冲区，将内容写入到文件。
b.使用close()关闭流时，会自动清空缓冲区；但是，还是建议手动清空。
c.先打开的流后关闭。
d.字符输出的特殊字符：
    \n ：linux下文本换行
    \r\n：windows下文本换行
```

### 字节流

1.以字节（byte）为基本的处理单位，主要是用于处理字节或二进制数据的各种输入输出，比如图片、音视频文件类型。

2.InputStream/OutputStream 是所有字节输入/输出流的超类（抽象类）

3.直接子类

```
FileInputStream类：从文件系统中的某个文件中获得输入字节；用于读取诸如图像数据之类的原始字节流。
FileOutputStream类：用于将数据写入 File 或 FileDescriptor 的输出流；用于写入诸如图像数据之类的原始字节的流。
```

4.字节缓冲流高效缓冲区：BufferedInputStream/BufferedOutputStream


### PrintWriter

1.字符打印流：

```
a.实现类 PrintWriter，该类继承于Writer类
b.可以打印各种数据类型（如：double、float类型）
c.封装了字符输出流，还可以字符流和字节流的转换。
d.可以使用自动刷新，只在调用println、printf 和 format方法时，才可能自动刷新。
e.可以直接向文件中写数据。
```

2.字节打印流：实现类 PrintStream，该类实现了OutputStream接口


### 其它

> 1.流操作时为什么要关闭流

1.需要自己close的东西，一般都是用了虚拟机之外的资源，例如端口，显存，文件等，虚拟机无法通过垃圾回收释放这些资源，
只能你显式调用close方法来释放。

2.许多情况下，如果在一些比较频繁的操作中，不对流进行关闭，很容易出现输入输出流经超越了JVM的边界，所以有时可能无
法回收资源。所以流操作的时候凡是跨出虚拟机边界的资源都要求程序员自己关闭，不要指望垃圾回收。

3.读一个文件，忘记关闭了流，你在操作系统里对这个文件的写，删除等操作就会报错，告诉你这个文件被某个进程占用。
（这里有个坑，java操作文件流不关，windows不能删除文件，mac或者linux却可以）

4.流关闭的顺序：先打开的后关闭，后打开的先关闭；另一种情况：看依赖关系，如果流a依赖流b，应该先关闭流a，再关闭流b。

